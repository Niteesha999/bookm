<!DOCTYPE html>
<html>
<head>
  <script src="https://your-qlik-server-host/resources/assets/external/requirejs/require.js"></script>
  <script>
    var config = {
      host: 'your-qlik-server-host', // Your Qlik Sense server host
      prefix: '/', // Your Qlik Sense server prefix
      port: 443, // Your Qlik Sense server port
      isSecure: true // Use HTTPS
    };

    require.config({
      baseUrl: (config.isSecure ? 'https://' : 'http://') + config.host + (config.port ? ':' + config.port : '') + config.prefix + 'resources'
    });

    require(['js/qlik'], function (qlik) {
      // Open the app
      var app = qlik.openApp('your-app-id', config);

      // Function to create a bookmark
      function createBookmark() {
        app.createBookmark({
          qInfo: {
            qId: "",
            qType: "bookmark"
          },
          qMetaDef: {
            title: "User's Bookmark",
            description: "Bookmark created by user",
            owner: qlik.currUserId, // Restricting to the user who created it
            qPrivate: true // Ensuring it's private to the user
          }
        }).then(function (reply) {
          console.log('Bookmark Created: ', reply.qInfo.qId);
        }).catch(function (error) {
          console.error('Error creating bookmark: ', error);
        });
      }

      // Function to apply a bookmark
      function applyBookmark(bookmarkId) {
        app.applyBookmark(bookmarkId).then(function () {
          console.log('Bookmark applied successfully');
        }).catch(function (error) {
          console.error('Error applying bookmark: ', error);
        });
      }

      // Example usage
      document.getElementById('createBookmarkBtn').addEventListener('click', function () {
        createBookmark();
      });

      document.getElementById('applyBookmarkBtn').addEventListener('click', function () {
        var bookmarkId = document.getElementById('bookmarkIdInput').value;
        applyBookmark(bookmarkId);
      });
    });
  </script>
</head>
<body>
  <button id="createBookmarkBtn">Create Bookmark</button>
  <br>
  <input type="text" id="bookmarkIdInput" placeholder="Enter Bookmark ID">
  <button id="applyBookmarkBtn">Apply Bookmark</button>
</body>
</html>
